<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이중 언어 과학 계산기</title>
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        html, body, #root {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        #root {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: #f0f0f0;
        }
        .visitor-counter {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
        }
        .bookmark-button {
            display: block;
            width: 200px;
            margin: 10px auto;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            text-align: center;
            text-decoration: none;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
    // 기존 계산기 코드 시작
    const languages = {
      en: {
        name: 'English',
        main: 'Main',
        functions: 'Functions',
        settings: 'Settings',
        radian: 'Radian',
        degree: 'Degree',
        darkMode: 'Dark Mode',
        lightMode: 'Light Mode',
        language: 'Language',
        title: 'Free Calculator',
      },
      ko: {
        name: '한국어',
        main: '메인',
        functions: '함수',
        settings: '설정',
        radian: '호도법',
        degree: '각도법',
        darkMode: '다크 모드',
        lightMode: '라이트 모드',
        language: '언어',
        title: '무료 계산기',
      },
    };

    const Calculator = () => {
      // ... (기존 계산기 코드)
    };

    ReactDOM.render(<Calculator />, document.getElementById('root'));
    // 기존 계산기 코드 끝

    // 방문자 카운터와 즐겨찾기 버튼 추가
    const CounterAndBookmark = () => {
      const [visitorCount, setVisitorCount] = React.useState(0);

      React.useEffect(() => {
        let count = localStorage.getItem('visitorCount') || 0;
        count++;
        setVisitorCount(count);
        localStorage.setItem('visitorCount', count);
      }, []);

      const addBookmark = () => {
        if (window.sidebar && window.sidebar.addPanel) { // Firefox
          window.sidebar.addPanel(document.title, window.location.href, '');
        } else if (window.external && ('AddFavorite' in window.external)) { // IE
          window.external.AddFavorite(location.href, document.title);
        } else { // Chrome, Safari, Opera, etc.
          alert('Press ' + (navigator.userAgent.toLowerCase().indexOf('mac') != -1 ? 'Command/Cmd' : 'CTRL') + ' + D to bookmark this page.');
        }
      };

      return (
        <div>
          <div className="visitor-counter">
            Visitors: <span>{visitorCount}</span>
          </div>
          <button onClick={addBookmark} className="bookmark-button">
            Add to Favorites
          </button>
        </div>
      );
    };

    ReactDOM.render(<CounterAndBookmark />, document.createElement('div'));
    </script>
</body>
</html>
